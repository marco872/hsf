{% extends 'base.html' %}



{% block content %}

{% for message in get_flashed_messages() %}

		<div class="alert alert-success alert-dismissible fade show" role="alert">

		  {{ message }}
		  <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
		</div>

{% endfor %}

 
{% if name  %}
	<h1>Viewer Added!</h1>
	<br/><br/><br/>
	<table class="table table-hover table-bordered table-striped">
	{% for our_viewer in our_viewers %}
		<tr>
		<td>{{ our_viewer.id }}.<a href="{{ url_for('update', id=our_viewer.id)}}">
		{{ our_viewer.name }}</a>-{{ our_viewer.profession }}-{{ our_viewer.email }}-
		<a href="{{ url_for('delete', id=our_viewer.id)}}">Delete</a>
		</tr>	
	{% endfor %}
</table>
{% else %}
	<h1>Viewer List:</h1>
	<br/>
<div class="shadow p-3 mb-5 bg-light rounded ">
	<form action="{{ url_for('add_viewer')}}"  method="POST">
		{{ form.hidden_tag() }}

		{{ form.name.label(
		class="form-label") }}
		{{ form.name(
		class="form-control") }}
		<br/>
		{{ form.username.label(
		class="form-label") }}
		{{ form.username(
		class="form-control") }}
		<br/>
		{{ form.email.label(
		class="form-label") }}
		{{ form.email(
		class="form-control") }}
		<br/>
		{{ form.profession.label(
		class="form-label") }}
		{{ form.profession(
		class="form-control") }}
		<br/>
		{{ form.password_hash.label(
		class="form-label") }}
		{{ form.password_hash(
		class="form-control") }}
		<br/>
		{{ form.password_hash2.label(
		class="form-label") }}
		{{ form.password_hash2(
		class="form-control") }}
		<br/>
		
		{{ form.submit(
		class="btn btn-secondary") }}
	</form>
</div>
<br/><br/>




{% endif %}


	

{% endblock %}